<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><title>计算机网络笔记 - 侯锐的思考与分享</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><meta name="keywords" content="网络"><meta name="description" content="&lt;p&gt;计算机网络从上个世纪开始发展，到今天已经已经有了一套成熟的解决方案。&lt;/p&gt;
&lt;p&gt;我们一般把计算网络分层五层，分别是&lt;strong&gt;应用层、传输层、网络层、数据链路层和物理层&lt;/strong&gt;，结构如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/images/others/20%E5%88%86%E5%B1%82%E6%A8%A1%E5%9E%8B.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;以上的这种分层是我们比较常用的一种方式，从下到上的过程也是一层一层的抽象过程，每上一层也增加了一层抽象。其实，除了这种分层之外，ISO也提供了一种分层方式，但是不太常用，我们只讨论以上这一种分层的方式。&lt;/p&gt;
&lt;h4 id=&#34;1-物理层和数据链路层&#34;&gt;&lt;a href=&#34;#1-物理层和数据链路层&#34; class=&#34;headerlink&#34; title=&#34;1.物理层和数据链路层&#34;&gt;&lt;/a&gt;1.物理层和数据链路层&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;物理层&lt;/strong&gt;和&lt;strong&gt;数据链路层&lt;/strong&gt;提供了点到点的数据传输方式，这两个协议提供了点到点的数据传输。&lt;/p&gt;
&lt;p&gt;物理层是用来传输数据的物"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="侯锐的思考与分享" type="application/atom+xml"></head><body><div class="container"><header class="header"><div class="blog-title"><a href="/" class="logo">侯锐的思考与分享</a><div class="subtitle"></div></div><nav class="navbar"><ul class="menu"><li class="menu-item"><a href="/" class="menu-item-link" data-no-instant>主页</a></li><li class="menu-item"><a href="/atom.xml" class="menu-item-link" data-no-instant>订阅</a></li><li class="menu-item"><a href="/search" class="menu-item-link" data-no-instant>搜索</a></li></ul></nav></header><article class="post"><div class="post-title"><h1 class="article-title">计算机网络笔记</h1></div><div class="post-meta"><span class="post-time">2016-01-20</span></div><div class="post-content"><p>计算机网络从上个世纪开始发展，到今天已经已经有了一套成熟的解决方案。</p><p>我们一般把计算网络分层五层，分别是<strong>应用层、传输层、网络层、数据链路层和物理层</strong>，结构如下图所示：</p><p><img src="/images/others/20%E5%88%86%E5%B1%82%E6%A8%A1%E5%9E%8B.png"></p><p>以上的这种分层是我们比较常用的一种方式，从下到上的过程也是一层一层的抽象过程，每上一层也增加了一层抽象。其实，除了这种分层之外，ISO也提供了一种分层方式，但是不太常用，我们只讨论以上这一种分层的方式。</p><h4 id="1-物理层和数据链路层"><a href="#1-物理层和数据链路层" class="headerlink" title="1.物理层和数据链路层"></a>1.物理层和数据链路层</h4><p><strong>物理层</strong>和<strong>数据链路层</strong>提供了点到点的数据传输方式，这两个协议提供了点到点的数据传输。</p><p>物理层是用来传输数据的物理介质，一般是由光纤、双绞线、同轴电缆等物理材料构成，保证从节点 A 到节点 B 能够传输数据。因为信号的高低电平的<strong>保持</strong>时间不好计算，所以我们一般用信号的<strong>变化</strong>情况来传输信号（曼彻斯特编码）。</p><p>数据链路层则是用来控制数据在物理介质上面传输的一种方式，它尽可能的保证数据能够从节点 A 传输到节点 B。</p><p><img src="/images/others/20AtoB.png"></p><h4 id="2-网络层"><a href="#2-网络层" class="headerlink" title="2.网络层"></a>2.网络层</h4><p>网络层的主要目的是把所有节点的主机构建成为一张网，这样才能称之为网络，网络层的主要功能是对网络中节点进行操作。因为物理层和数据链路层已经保证了数据可以在节点到节点之间传输了，而网络层的作用就是保证数据从某一个节点出发，使信号可以传送到一条正确的数据链路上。</p><p><img src="/images/others/20%E7%BD%91%E7%BB%9C%E5%B1%82.png"></p><p>如上图所示，从节点 A 到节点 F 之间要经过多个路由器，那么当数据到达了某一个路由器节点之后，路由器应该怎么做呢？</p><p>其实，路由器会对数据进行解析，读取它的报文头部，分析应该把数据传送什么方向，然后把数据发送到和路由器相连的某一条链路上，数据就在链路上继续前进，遇到了新的路由器的时候，新的路由器会进行类似的操作，然后一直到数据被发送到目的地。在这里我们可以看到，数据最终是通过 A → C → E → F 这样的顺序被从源地址发送到了目的地址，中间经过了 2 个路由器。</p><p>在这里我们可以做一个类比，把网络类比成一个快递公司，而网络中的数据就是快递的包裹。</p><ol><li>源主机打包数据，给源数据加上网络报文；寄件人给包裹写上收件地址，把包裹送到快递公司。</li><li>数据在网络中传输，这里传输的物理介质可能是光纤、双绞线等等；快递开始被运送，运送的交通工具可能是飞机、火车等等。</li><li>数据到达路由器，由路由器根据数据网络报文来判断数据接下来应该被发往哪条数据线路，这里使用到了<strong>路由选择</strong>的技术；快递到达城市快递中转中心，中转中心根据包裹的收件地址来判断接下来包裹应该被发往什么地方，随后被放到相应的交通工具上继续运送。<ul><li>有类网中的 IP 路由选择：当一个数据到达某一个路由器时，路由器读取数据报文中的目的地址，然后把目的地址与路由器内部的<strong>路由表</strong>进行比对，由该 IP 地址得出接下来应该把数据发往与当前路由器相连哪一个路由器，并且得出应该由当前路由器的哪一个接口发出数据。如果目的地址主机直接与当前路由器相连，则路由器不再把数据发往其他路由器，而是直接把数据发送给目标主机。（如果路由表中查不到该 IP 地址，则把该数据发往路由表中的默认路由器；如果路由表中未设置默认路由器，则丢弃该数据）如下图<sup>[1]</sup>：<br><img src="/images/others/20QQ%E5%9B%BE%E7%89%8720160121121843.png"></li></ul></li><li>遇到新的路由器，重复步骤三；包裹送到了新的中转中心，重复步骤三。</li><li>数据到达最终节点，传输完成；包裹被送到收件人手中，快递完成。</li></ol><p>下面这张图可以体现以上这种过程<sup>[1]</sup>：</p><p><img src="/images/others/20%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E5%92%8C%E7%89%A9%E7%90%86%E5%B1%82%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE%E7%BD%91%E7%BB%9C%E5%B1%82%E8%BF%9B%E8%A1%8C%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9.png"></p><p>在网络层，我们最常使用的协议就是 <strong>IP 协议</strong>，IP 协议主要是给网络数据打上了一个 IP 报文，这个报文可以帮助路由器来决定把数据发送到哪里去。</p><p>IP 报文内容比较多，可以在查到，这里介绍几个比较常用的。</p><ol><li>TTL（TIME-TO-LIVE）：即跳数（hop），用于限制数据报在因特网上所经过的路由器数，每经过一个路由器，就 -1，如果路由器发现心跳小于 0，就把该数据丢弃。</li><li>目标地址：数据应该被发送到的的目标主机的 IP 地址。</li></ol><p>用 IP 来标识一个主机，会使用到 IP 地址，此时该主机拥有一个独一无二的 IP 地址，相当于日常生活中的门牌号，我们可以通过这个 IP 地址来给该主机发送数据。</p><p>IP 地址的组成：网络号 + 主机号</p><h4 id="3-Wiki"><a href="#3-Wiki" class="headerlink" title="3.Wiki"></a>3.Wiki</h4><ul><li><p>NAT：网络地址转换技术</p></li><li><p>NAPT&#x2F;PAT&#x2F;过载NAT：端口地址转换技术,即一个子网络对应一个路由器端口号</p></li><li><p>ARP 协议：从某一个主机的 IP 地址得到它的 MAC 地址的方式。源主机通过广播的方式发送一个 IP 地址，然后在所有收到此 IP 地址的主机中，符合要求的主机(IP 地址和广播的 IP 地址一致的)就会把它的 MAC 地址发送回来</p></li><li><p>DHCP 协议：可以使客户机动态的获取一个 IP 地址</p></li></ul><p>注[1]：图片摘自网易云课堂<a target="_blank" rel="noopener" href="http://mooc.study.163.com/course/SYSU-1000002015?tid=1000002011">计算机网络之构造互联网 - 张永民</a></p></div><div class="post-copyright"><div><strong>本文链接：</strong> <span title="计算机网络笔记">https://www.nosuchfield.com/2016/01/20/computer-network-notes/</span></div><div><strong>版权声明： </strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处！</div></div><style>summary{cursor:pointer;margin-bottom:10px}summary:focus{outline:0}</style><script src="/js/code-enhancer.js"></script><script src="/js/pangu.min.js"></script><script>pangu.spacingPage()</script><script>function backToTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script defer src="https://cloud.umami.is/script.js" data-website-id="267e4aaf-8cb5-464d-b16c-89e66283e505"></script><div class="post-footer"><ul class="post-tag-list" itemprop="keywords"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></li></ul><span onclick="backToTop()" class="top">返回顶部</span></div></article><footer><span>&copy; 2015 - 2025</span> <span class="author">Raymond</span> <span style="float:right"><span class="upyun">本网站由<a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"> <img src="/images/others/upyun.png"></a>提供CDN加速&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <a class="filing" href="https://beian.miit.gov.cn/" target="_blank">苏ICP备15057335号</a> <a class="github" href="https://github.com/RitterHou" target="_blank">GitHub</a></span></footer></div></body></html>