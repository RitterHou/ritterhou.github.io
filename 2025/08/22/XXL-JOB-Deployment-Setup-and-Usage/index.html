<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><title>XXL-JOB的部署、搭建与使用 - 侯锐的思考与分享</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><meta name="keywords" content="微服务,Java,XXL-JOB,分布式任务调度,Spring" boot,任务调度><meta name="description" content="&lt;p&gt;XXL-JOB是一个分布式任务调度平台，它可以很方便的实现分布式的任务调度。&lt;/p&gt;
&lt;h2 id=&#34;部署&#34;&gt;&lt;a href=&#34;#部署&#34; class=&#34;headerlink&#34; title=&#34;部署&#34;&gt;&lt;/a&gt;部署&lt;/h2&gt;&lt;p&gt;首先我们下载XXL-JOB的源码&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone git@github.com:xuxueli/xxl-job.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;之后我们根据&lt;code&gt;doc/db/tables_xxl_job.sql&lt;/code&gt;中的sql创建对应的数据库和表。&lt;/p&gt;
&lt;p&gt;在启动XXL-JOB之前，有些配置需要修改：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;xxl-job-admin/src/main/resources/logback.xml&lt;/code&gt;中property的value需要设置为&lt;code&gt;xxl-job/xxl-job-admin/data/applogs/xxl-job/xxl-job-admin.log&lt;/code&gt;，否则可能会因为文件夹不存在而启动不了&lt;/li&gt;
&lt;li&gt;&lt;code&gt;x"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="侯锐的思考与分享" type="application/atom+xml"></head><body><div class="container"><header class="header"><div class="blog-title"><a href="/" class="logo">侯锐的思考与分享</a><div class="subtitle"></div></div><nav class="navbar"><ul class="menu"><li class="menu-item"><a href="/" class="menu-item-link" data-no-instant>主页</a></li><li class="menu-item"><a href="/atom.xml" class="menu-item-link" data-no-instant>订阅</a></li><li class="menu-item"><a href="/search" class="menu-item-link" data-no-instant>搜索</a></li></ul></nav></header><article class="post"><div class="post-title"><h1 class="article-title">XXL-JOB的部署、搭建与使用</h1></div><div class="post-meta"><span class="post-time">2025-08-22</span></div><div class="post-content"><p>XXL-JOB是一个分布式任务调度平台，它可以很方便的实现分布式的任务调度。</p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>首先我们下载XXL-JOB的源码</p><pre><code>git clone git@github.com:xuxueli/xxl-job.git
</code></pre><p>之后我们根据<code>doc/db/tables_xxl_job.sql</code>中的sql创建对应的数据库和表。</p><p>在启动XXL-JOB之前，有些配置需要修改：</p><ol><li><code>xxl-job-admin/src/main/resources/logback.xml</code>中property的value需要设置为<code>xxl-job/xxl-job-admin/data/applogs/xxl-job/xxl-job-admin.log</code>，否则可能会因为文件夹不存在而启动不了</li><li><code>xxl-job-admin/src/main/resources/application.properties</code>中数据库的地址、用户名和密码，以及accessToken等等需要修改为自定义的配置值</li></ol><p>修改完配置，就可以启动服务了</p><pre><code>mvn clean package
cd xxl-job-admin/target
java -jar xxl-job-admin-3.1.2-SNAPSHOT.jar
</code></pre><p>这样服务就启动成功了，之后我们可以访问<a target="_blank" rel="noopener" href="http://127.0.0.1:8080/xxl-job-admin/">http://127.0.0.1:8080/xxl-job-admin/</a>进入控制台</p><h2 id="服务搭建"><a href="#服务搭建" class="headerlink" title="服务搭建"></a>服务搭建</h2><p>我们基于SpringBoot来构建业务服务，首先我们添加依赖</p><pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.xuxueli&lt;/groupId&gt;
    &lt;artifactId&gt;xxl-job-core&lt;/artifactId&gt;
    &lt;version&gt;3.1.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><p>之后创建一个XXL-JOB的配置bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XxlJobConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> XxlJobSpringExecutor <span class="title function_">xxlJobExecutor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">XxlJobSpringExecutor</span> <span class="variable">xxlJobSpringExecutor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XxlJobSpringExecutor</span>();</span><br><span class="line">        <span class="comment">// XXL-JOB地址</span></span><br><span class="line">        xxlJobSpringExecutor.setAdminAddresses(<span class="string">&quot;http://127.0.0.1:8080/xxl-job-admin&quot;</span>);</span><br><span class="line">        <span class="comment">// 当前这个XXL-JOB的名称</span></span><br><span class="line">        xxlJobSpringExecutor.setAppname(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">        <span class="comment">// 密钥，和之前的配置需要一致</span></span><br><span class="line">        xxlJobSpringExecutor.setAccessToken(<span class="string">&quot;1sg&quot;</span>);</span><br><span class="line">        <span class="comment">// 设置端口，不设置会自动选择</span></span><br><span class="line">        <span class="comment">// xxlJobSpringExecutor.setPort(9999);</span></span><br><span class="line">        <span class="comment">// 设置日志目录和保存策略</span></span><br><span class="line">        xxlJobSpringExecutor.setLogPath(<span class="string">&quot;./log&quot;</span>);</span><br><span class="line">        xxlJobSpringExecutor.setLogRetentionDays(<span class="number">30</span>);</span><br><span class="line">        <span class="keyword">return</span> xxlJobSpringExecutor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>配置好了之后我们就可以新建一个任务了</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoJob</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(DemoJob.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@XxlJob(&quot;demoJobHandler&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">demoJobHandler</span><span class="params">()</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;XXL-JOB 任务开始执行: &#123;&#125;&quot;</span>, <span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加了配置和任务之后，我们就可以启动服务了。</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>在控制台中，我们选择<strong>执行器管理</strong>，之后新增一个执行器。其中，AppName就是上面配置的应用名，如上就是<code>test</code>，名称就是这个管理器的自定义名称，注册方式选择<strong>自动注册</strong>即可。</p><p>创建好执行器，我们就可以新增任务了。在任务管理中，我们新增一个执行器为刚刚新增那个执行器的任务。运行模式选择BEAN，JobHandler设置为@XxlJob注解中的值<code>demoJobHandler</code>。之后当任务执行的条件达到时，demoJobHandler方法就会执行了。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://www.xuxueli.com/xxl-job/">XXL开源社区</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/Higurashi-kagome/p/18446083">XXL-JOB 安装及使用教程</a></p></div><div class="post-copyright"><div><strong>本文链接：</strong> <span title="XXL-JOB的部署、搭建与使用">https://www.nosuchfield.com/2025/08/22/XXL-JOB-Deployment-Setup-and-Usage/</span></div><div><strong>版权声明： </strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处！</div></div><style>summary{cursor:pointer;margin-bottom:10px}summary:focus{outline:0}</style><script src="/js/code-enhancer.js"></script><script src="/js/pangu.min.js"></script><script>pangu.spacingPage()</script><script>function backToTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script><script defer src="https://cloud.umami.is/script.js" data-website-id="267e4aaf-8cb5-464d-b16c-89e66283e505"></script><div class="post-footer"><ul class="post-tag-list" itemprop="keywords"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/Spring-Boot/" rel="tag">Spring Boot</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/XXL-JOB/" rel="tag">XXL-JOB</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/" rel="tag">任务调度</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/" rel="tag">分布式任务调度</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag">微服务</a></li></ul><span onclick="backToTop()" class="top">返回顶部</span></div></article><footer><span>&copy; 2015 - 2025</span> <span class="author">Raymond</span> <span style="float:right"><span class="upyun">本网站由<a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"> <img src="/images/others/upyun.png"></a>提供CDN加速&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <a class="filing" href="https://beian.miit.gov.cn/" target="_blank">苏ICP备15057335号</a> <a class="github" href="https://github.com/RitterHou" target="_blank">GitHub</a></span></footer></div></body></html>